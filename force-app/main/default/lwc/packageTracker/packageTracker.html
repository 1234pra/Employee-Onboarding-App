<template>
  <lightning-card title="Package Tracker">
    <div class="slds-p-horizontal_small slds-p-vertical_small">
      <lightning-input label="Tracking ID" value={trackingId} onchange={onChange} placeholder="Enter tracking ID"></lightning-input>
      <div class="slds-m-top_small">
        <lightning-button label="Get Status" onclick={fetchStatus} variant="brand"></lightning-button>
        <lightning-button label="Clear" onclick={clear} class="slds-m-left_small"></lightning-button>
      </div>
    </div>

    <template if:true={loading}>
      <div class="slds-p-horizontal_small slds-p-vertical_small">Loadingâ€¦</div>
    </template>

    <template if:true={result}>
      <div class="slds-p-horizontal_small slds-p-vertical_small">
        <p><strong>Tracking ID:</strong> {result.trackingId}</p>
        <p><strong>Status:</strong> {result.status}</p>
        <p><strong>Location:</strong> {result.location}</p>
        <p><strong>Estimated Delivery:</strong> {result.estimatedDelivery}</p>
        <p><strong>Last Updated:</strong> {result.lastUpdated}</p>
        <p><a href={recordLink} target="_blank">Open Package Record</a></p>
      </div>
    </template>

    <template if:true={error}>
      <div class="slds-p-horizontal_small slds-p-vertical_small slds-text-color_error">
        {error}
      </div>
    </template>
  </lightning-card>
</template>
